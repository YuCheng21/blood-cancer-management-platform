{
    "openapi": "3.0.0",
    "info": {
        "title": "血癌照護管理平台",
        "description": "Application Interface Documentation for Blood Cancer Care Management Platform.",
        "contact": {
            "name": "High Performance Distributed Systems Lab",
            "email": "nkust.ee.hpds@gmail.com"
        },
        "version": "1.0"
    },
    "paths": {
        "/api/blood-components": {
            "post": {
                "tags": [
                    "抽血數據"
                ],
                "summary": "新增抽血數據",
                "description": "新增抽血數據",
                "operationId": "ea64f5c8eb7e998477cdc2f21aeff61f",
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "wbc",
                                    "hb",
                                    "plt",
                                    "got",
                                    "gpt",
                                    "cea",
                                    "ca153",
                                    "bun",
                                    "account"
                                ],
                                "properties": {
                                    "account": {
                                        "type": "string",
                                        "example": 555
                                    },
                                    "wbc": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "hb": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "plt": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "got": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "gpt": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "cea": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "ca153": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "bun": {
                                        "type": "integer",
                                        "example": 555
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/blood-components/{id}": {
            "delete": {
                "tags": [
                    "抽血數據"
                ],
                "summary": "刪除抽血數據",
                "description": "刪除抽血數據",
                "operationId": "7416f250660c61628a7f6835f78a1f36",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "抽血數據編號",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": "1"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {}
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            },
            "patch": {
                "tags": [
                    "抽血數據"
                ],
                "summary": "更新抽血數據",
                "description": "更新抽血數據",
                "operationId": "0079f0491c12a52320ca5a2ea90a04e8",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "抽血數據編號",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": "1"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "required": [
                                    "wbc",
                                    "hb",
                                    "plt",
                                    "got",
                                    "gpt",
                                    "cea",
                                    "ca153",
                                    "bun"
                                ],
                                "properties": {
                                    "wbc": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "hb": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "plt": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "got": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "gpt": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "cea": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "ca153": {
                                        "type": "integer",
                                        "example": 555
                                    },
                                    "bun": {
                                        "type": "integer",
                                        "example": 555
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/blood-components/account/{account}": {
            "get": {
                "tags": [
                    "抽血數據"
                ],
                "summary": "取得抽血數據",
                "description": "取得抽血數據",
                "operationId": "8ee664b6aba87ca2ea6021151282a403",
                "parameters": [
                    {
                        "name": "account",
                        "in": "path",
                        "description": "個案帳號",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "user1"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/cases/{account}": {
            "get": {
                "tags": [
                    "個案資料"
                ],
                "summary": "取得個案資料",
                "description": "取得個案資料",
                "operationId": "ee988df769515cc5e3b8ee6e7f983417",
                "parameters": [
                    {
                        "name": "account",
                        "in": "path",
                        "description": "個案帳號",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "user1"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "success",
                        "content": {
                            "application\\json": {
                                "schema": {
                                    "example": [
                                        {
                                            "data": [
                                                {
                                                    "id": 1,
                                                    "account": "user1",
                                                    "transplant_num": "N0001",
                                                    "name": "王小明1",
                                                    "gender": "男性",
                                                    "birthday": "1999-06-21",
                                                    "date": "2022-02-17",
                                                    "transplant_type": "自體移植",
                                                    "disease_type": "AML- 未選擇- 未選擇"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/medicine/account/{account}": {
            "get": {
                "tags": [
                    "施打藥物及劑量紀錄"
                ],
                "summary": "取得施打藥物及劑量紀錄",
                "description": "取得施打藥物及劑量紀錄",
                "operationId": "ac6ecb5edd4fb6b349ff858b2ccb15bb",
                "parameters": [
                    {
                        "name": "account",
                        "in": "path",
                        "description": "個案帳號",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "user1"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/reports/account/{account}": {
            "get": {
                "tags": [
                    "報告個管師紀錄"
                ],
                "summary": "取得報告個管師紀錄",
                "description": "取得報告個管師紀錄",
                "operationId": "037cb50b5567f396b8963289edb3059e",
                "parameters": [
                    {
                        "name": "account",
                        "in": "path",
                        "description": "個案帳號",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "user1"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/reports": {
            "post": {
                "tags": [
                    "報告個管師紀錄"
                ],
                "summary": "新增報告個管師紀錄",
                "description": "新增報告個管師紀錄",
                "operationId": "e54f4d802914b8df012b3d9bc9e4e2d1",
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "account",
                                    "date",
                                    "physical_strength",
                                    "symptom",
                                    "hospital"
                                ],
                                "properties": {
                                    "account": {
                                        "type": "string",
                                        "example": "user1"
                                    },
                                    "date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2022-03-10"
                                    },
                                    "physical_strength": {
                                        "type": "string",
                                        "example": "很好"
                                    },
                                    "symptom": {
                                        "type": "string",
                                        "example": "皮疹"
                                    },
                                    "hospital": {
                                        "type": "string",
                                        "example": "高醫"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/reports/{id}": {
            "delete": {
                "tags": [
                    "報告個管師紀錄"
                ],
                "summary": "刪除報告個管師紀錄",
                "description": "刪除報告個管師紀錄",
                "operationId": "a0564266d1760daf36eb7397dc9cbc82",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "報告個管師紀錄編號",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": "1"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {}
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            },
            "patch": {
                "tags": [
                    "報告個管師紀錄"
                ],
                "summary": "更新報告個管師紀錄",
                "description": "更新報告個管師紀錄",
                "operationId": "a8e9ce28ae435d96c8e95999c4c88eef",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "報告個管師紀錄編號",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": "1"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "required": [
                                    "date",
                                    "physical_strength",
                                    "symptom",
                                    "hospital"
                                ],
                                "properties": {
                                    "date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2022-03-10"
                                    },
                                    "physical_strength": {
                                        "type": "string",
                                        "example": "很好"
                                    },
                                    "symptom": {
                                        "type": "string",
                                        "example": "皮疹"
                                    },
                                    "hospital": {
                                        "type": "string",
                                        "example": "高醫"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/side-effects/account/{account}": {
            "get": {
                "tags": [
                    "副作用紀錄"
                ],
                "summary": "取得副作用紀錄",
                "description": "取得副作用紀錄",
                "operationId": "d9e7f638ee1c0a998c40ee9c2221bf45",
                "parameters": [
                    {
                        "name": "account",
                        "in": "path",
                        "description": "個案帳號",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "user1"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/side-effects": {
            "post": {
                "tags": [
                    "副作用紀錄"
                ],
                "summary": "新增副作用紀錄",
                "description": "新增副作用紀錄",
                "operationId": "fd17324a04a937b9c88448afac5fc780",
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "account",
                                    "date",
                                    "symptom",
                                    "severity",
                                    "has_image"
                                ],
                                "properties": {
                                    "account": {
                                        "type": "string",
                                        "example": "user1"
                                    },
                                    "date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2022-3-6"
                                    },
                                    "symptom": {
                                        "type": "string",
                                        "example": "噁心"
                                    },
                                    "severity": {
                                        "type": "integer",
                                        "example": "5"
                                    },
                                    "has_image": {
                                        "type": "integer",
                                        "enum": [
                                            "0",
                                            "1"
                                        ],
                                        "example": "0"
                                    },
                                    "image": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "caption": {
                                        "type": "string",
                                        "example": "Cation #1"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/tasks/account/{account}": {
            "get": {
                "tags": [
                    "每週任務"
                ],
                "summary": "取得每週任務",
                "description": "取得每週的任務相關資訊，如：週數、任務 id、該資料的獨立 id（在新增個案任務的完成狀態時會用到）",
                "operationId": "20996f7521f1fa148128a4ca35be0497",
                "parameters": [
                    {
                        "name": "account",
                        "in": "path",
                        "description": "個案帳號",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "user1"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/tasks/state/{id}": {
            "patch": {
                "tags": [
                    "每週任務"
                ],
                "summary": "更新每週任務完成狀態",
                "description": "更新每週任務完成狀態。<p>先用 GET 該個案的所有任務後，再用任務 id 使用此方法。</p>",
                "operationId": "95b5c03bdbc7a20d6e5ca554383fa594",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "任務 id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": "1"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "required": [
                                    "state"
                                ],
                                "properties": {
                                    "state": {
                                        "type": "string",
                                        "enum": [
                                            "completed",
                                            "uncompleted"
                                        ],
                                        "example": "completed"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/topics/{id}": {
            "get": {
                "tags": [
                    "任務題目"
                ],
                "summary": "取得任務題目",
                "description": "取得任務的題目相關資訊，如：題目 id。",
                "operationId": "d5f75a5ab8e665745c1ffc6281ed5609",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "任務 id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": "1"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        },
        "/api/topics/cases": {
            "post": {
                "tags": [
                    "任務題目"
                ],
                "summary": "新增個案任務題目完成狀態",
                "description": "新增個案每週任務題目完成狀態。<p>先 GET 任務 id（每週任務），再 GET 題目 id（任務題目），並以兩組 id 使用此方法設定，完成個案的答題狀態。</p>",
                "operationId": "2d2e284e9474eb54d2e1b0b7bb2466bd",
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "case_task_id",
                                    "topic_id",
                                    "state"
                                ],
                                "properties": {
                                    "case_task_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "topic_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "state": {
                                        "type": "string",
                                        "enum": [
                                            "correct",
                                            "wrong"
                                        ],
                                        "example": "correct"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "success"
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "basicAuth": {
                "type": "http",
                "scheme": "basic"
            }
        }
    },
    "security": [
        {
            "basicAuth": []
        }
    ],
    "tags": [
        {
            "name": "個案資料",
            "description": "與個案帳號相關的基本資料"
        },
        {
            "name": "抽血數據",
            "description": "個案定期的抽血數據"
        },
        {
            "name": "施打藥物及劑量紀錄",
            "description": "個案的施打藥物及劑量紀錄"
        },
        {
            "name": "副作用紀錄",
            "description": "個案的副作用紀錄"
        },
        {
            "name": "報告個管師紀錄",
            "description": "個案回報個管師的回報紀錄"
        },
        {
            "name": "每週任務",
            "description": "個案每週的任務項目"
        },
        {
            "name": "任務題目",
            "description": "任務項目的題目"
        }
    ]
}